+++
title= "hammerspoon config for mac"
description= "macOS è‡ªåŠ¨åŒ–å·¥å…·"
date = "2025-10-15"
tags = [
    "hammerspoon"
]
categories = [
  "æŠ€æœ¯"
]
series = [
  "å·¥å…·"
]
#menu = "main"
+++

#### è¯´æ˜
   Hammerspoon æ˜¯ä¸€æ¬¾é©å‘½æ€§çš„ macOS æ¡Œé¢è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®ƒå°†ç³»ç»Ÿçº§ API ä¸çµæ´»çš„ Lua è„šæœ¬å¼•æ“ç›¸ç»“åˆã€‚é€šè¿‡ç¼–å†™è‡ªå®šä¹‰çš„ Lua è„šæœ¬ï¼Œæ‚¨å¯ä»¥å¯¹ç³»ç»Ÿè¿›è¡Œå¼ºå¤§çš„æ§åˆ¶ã€‚   
   ç¨‹åºå‘˜ä¸€èˆ¬çš„å·¥ä½œä¹ æƒ¯éƒ½æ˜¯ä¸¤ä¸ªæ˜¾ç¤ºå±å¹•ï¼Œä¸¤ä¸ªæµè§ˆå™¨çª—å£ï¼Œå¤šä¸ªç¼–ç¨‹ç¼–è¾‘å™¨çª—å£ï¼Œå†åŠ è‡³å°‘ä¸€ä¸ªå³æ—¶é€šè®¯å·¥å…·,æˆ–è€…è¿˜æœ‰ä¸€ä¸ªç»ˆç«¯consoleã€‚å¦‚æœä½¿ç”¨ç³»ç»Ÿå¿«æ·é”®åˆ‡æ¢ä¸å¤Ÿç²¾ç¡®ï¼Œç”¨é¼ æ ‡åˆä¸æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯éœ€è¦æŠŠå…‰æ ‡ç§»åˆ°æ‰©å±•çš„æ˜¾ç¤ºå±çš„æ—¶å€™ã€‚Hammerspoonä½œä¸ºä¸€ä¸ªä¸“ä¸šçš„macosè‡ªåŠ¨åŒ–å·¥å…·å¯ä»¥å¸¦é¢†å¾ˆå¤§çš„æ–¹ä¾¿ã€‚
   + å¦‚æœå¿«æ·é”®ä¸èµ·ä½œç”¨ï¼Œåˆ‡æ¢è¾“å…¥æ³•ä¸ºè‹±æ–‡.
   + ä»¥ä¸‹å¿«æ·é”®ï¼Œé‡Œé¢æœ‰â€œ+â€å·ï¼Œè¡¨ç¤ºåˆ†æ®µï¼Œä¸ä»£è¡¨é”®ç›˜ï¼Œå…ˆæŒ‰å‰é¢éƒ¨åˆ†ï¼Œåœ¨1ç§’å†…å†æŒ‰åé¢éƒ¨åˆ†ã€‚
   + vscodeç‰ˆæœ¬:1.80.1. å®‰è£…äº†golang,vimæ’ä»¶ã€‚macos 12.6.
   + https://github.com/Hammerspoon/hammerspoon

##### ç¯å¢ƒ

   + Macos 14 
   + Hammerspoon 1.0.0

##### å®‰è£…
   + å®˜æ–¹è¿æ¥ https://github.com/Hammerspoon/hammerspoon
   + å‚è€ƒè¯´æ˜ï¼Œä¸‹è½½dmgæ–‡ä»¶å®‰è£…æˆ–è€…brewå®‰è£…å‡å¯ã€‚


##### é»˜è®¤åŠŸèƒ½å¿«æ·é”®
   + âŒ˜+`, `ä¸ºtabé”®ä¸Šé¢çš„æŒ‰é”®ã€‚å¼¹å‡ºæ¥ä¸€ä¸ªé€‰æ‹©çª—å£,å¦‚ä¸‹:
    ![image](images/post/tools/2015-10-15-1.jpg)
   + å†æŒ‰æ•°å­—æˆ–è€…å­—æ¯ï¼Œå³å¯åˆ‡æ¢åˆ°å¯¹åº”çš„çª—å£ã€‚

##### è‡ªå®šä¹‰åŠŸèƒ½å¿«æ·é”®

   + ç‚¹å‡»å³ä¸Šè§’ğŸ”¨å›¾æ ‡ï¼Œé€‰æ‹© â€œopen config",å¯ä»¥è‡ªå·±å†™luaè„šæœ¬ã€‚å†æ¬¡é€‰æ‹© â€œreload configâ€å³å¯ç”Ÿæ•ˆã€‚  
   + luaè„šæœ¬åŠŸèƒ½å¯å‚è€ƒgithubå®˜ç½‘.  
   + ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººå®ç°çš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚é¼ æ ‡å…‰æ ‡åœ¨ä¸»æ˜¾ç¤ºå±å’Œæ‰©å±•å±ä¹‹é—´åˆ‡æ¢, vscodeå¤šä¸ªçª—å£å¾ªç¯åˆ‡æ¢ç­‰ã€‚  

   ```
local hotswitchHs = require("hotswitch-hs/hotswitch-hs")
-- hotswitchHs.enableAutoUpdate() -- If you don't want to update automatically, remove this line.
--hotswitchHs.setAutoGeneratedKeys({"1", "2", "3", "4", "5", "6", "7", "8", "9", "0"})
hotswitchHs.enableAllSpaceWindows()

hs.hotkey.bind({"command"}, "`", hotswitchHs.openOrClose) -- Set a keybind you like to open HotSwitch-HS panel.

-- ä½¿ç”¨ã€Option+tabã€‘åœ¨ä¸åŒå±å¹•ä¹‹é—´ç§»åŠ¨é¼ æ ‡
-- option==alt
hs.hotkey.bind({'option'}, 'tab', function()
    local screen = hs.mouse.getCurrentScreen()
    local nextScreen = screen:next()
    local rect = nextScreen:fullFrame()
    local center = hs.geometry.rectMidPoint(rect)
    hs.mouse.absolutePosition(center)
end)
  
-- ä½¿ç”¨ã€Option+Wã€‘åœ¨ä¸åŒå±å¹•ä¹‹é—´ç§»åŠ¨çª—å£
hs.hotkey.bind({'option'}, 'W', function()
    -- get the focused window
    local win = hs.window.focusedWindow()
    -- get the screen where the focused window is displayed, a.k.a. current screen
    local screen = win:screen()
    -- compute the unitRect of the focused window relative to the current screen
    -- and move the window to the next screen setting the same unitRect 
    win:move(win:frame():toUnitRect(screen:frame()), screen:next(), true, 0)
end)

local function openApp(appName)
    local app = hs.application.get(appName)
    if not app then
        hs.application.launchOrFocus(appName)
    else
        app:activate()
    end
end

-- alt+ a - z
hs.hotkey.bind({'alt'}, 'c', function() openApp("Chrome") end)
hs.hotkey.bind({'alt'}, 'i', function() openApp("å¾®ä¿¡") end)
hs.hotkey.bind({'alt'}, 't', function() openApp("ç»ˆç«¯") end)
hs.hotkey.bind({'alt'}, 'j', function() openApp("IntelliJ IDEA CE") end)
--hs.hotkey.bind({'alt'}, 'v', function() openApp("Visual Studio Code") end)
-- å•æ¬¡æŒ‰é”®å³å¯å¾ªç¯åˆ‡æ¢ VSCode çª—å£
local vscode_bundle_id = "com.microsoft.VSCode"
local last_vscode_win = nil

function switchVSCodeWindow()
    local app = hs.application.get(vscode_bundle_id)
    if not app then
        hs.alert.show("VSCode æœªè¿è¡Œ")
        return
    end

    local windows = hs.fnutils.filter(app:allWindows(), function(win)
        return win:isStandard() and win:isVisible()
    end)

    if #windows < 2 then
        hs.alert.show("åªæœ‰ä¸€ä¸ª VSCode çª—å£")
        return
    end

    local current = hs.window.focusedWindow()
    local target = nil

    -- å¦‚æœå½“å‰æ˜¯ VSCode çª—å£ï¼Œåˆ™åˆ‡æ¢åˆ°å¦ä¸€ä¸ª
    if current and current:application():bundleID() == vscode_bundle_id then
        for _, w in ipairs(windows) do
            if w:id() ~= current:id() then
                target = w
                break
            end
        end
    -- å¦åˆ™èšç„¦ä¸Šæ¬¡çš„ VSCode çª—å£ï¼ˆæˆ–ç¬¬ä¸€ä¸ªï¼‰
    else
        target = last_vscode_win or windows[1]
    end

    if target then
        last_vscode_win = current
        target:focus()
        target:raise()
    end
end
-- ç»‘å®šå¿«æ·é”®ï¼šAlt + V
hs.hotkey.bind({"alt"}, "v", switchVSCodeWindow)
    
   ```
